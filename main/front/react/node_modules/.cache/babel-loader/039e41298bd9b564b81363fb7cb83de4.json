{"ast":null,"code":"import _slicedToArray from\"/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classes from\"./Update.module.css\";import Status from\"./Status\";import ProductList from\"./ProductList\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),loadedProducts=_useState4[0],setLoadedProducts=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),loadedNumb=_useState6[0],setLoadedNumb=_useState6[1];var clickHandler=function clickHandler(e){setIsLoading(true);//sending a get request to localhost:5000\nfetch(\"http://localhost:5000/update\").then(function(res){setIsLoading(false);if(res.ok){return res.json();}else{setIsLoading(true);alert(\"sth went wrong\");return res.json().then(function(data){throw new Error(data?data.description:\"fuck, it's an error\");});}}).then(function(data){setLoadedProducts(data);setLoadedNumb(data.length);}).catch(function(e){console.log(e);});};return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(Status,{onClickUpdate:clickHandler,isLoading:isLoading,loadedNumb:loadedNumb}),/*#__PURE__*/_jsx(ProductList,{loadedProducts:loadedProducts})]});};export default Update;","map":{"version":3,"sources":["/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/components/Update/Update.js"],"names":["classes","Status","ProductList","useState","Update","isLoading","setIsLoading","loadedProducts","setLoadedProducts","loadedNumb","setLoadedNumb","clickHandler","e","fetch","then","res","ok","json","alert","data","Error","description","length","catch","console","log","container"],"mappings":"6KAAA,MAAOA,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,QAAT,KAAyB,OAAzB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,cAAkCD,QAAQ,CAAC,KAAD,CAA1C,wCAAOE,SAAP,eAAkBC,YAAlB,eACA,eAA4CH,QAAQ,CAAC,EAAD,CAApD,yCAAOI,cAAP,eAAuBC,iBAAvB,eACA,eAAoCL,QAAQ,CAAC,CAAD,CAA5C,yCAAOM,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BN,YAAY,CAAC,IAAD,CAAZ,CACA;AACAO,KAAK,CAAC,8BAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,CAAS,CACbT,YAAY,CAAC,KAAD,CAAZ,CACA,GAAIS,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,CAAAA,GAAG,CAACE,IAAJ,EAAP,CACD,CAFD,IAEO,CACLX,YAAY,CAAC,IAAD,CAAZ,CACAY,KAAK,CAAC,gBAAD,CAAL,CACA,MAAOH,CAAAA,GAAG,CAACE,IAAJ,GAAWH,IAAX,CAAgB,SAACK,IAAD,CAAU,CAC/B,KAAM,IAAIC,CAAAA,KAAJ,CAAUD,IAAI,CAAGA,IAAI,CAACE,WAAR,CAAsB,qBAApC,CAAN,CACD,CAFM,CAAP,CAGD,CACF,CAZH,EAaGP,IAbH,CAaQ,SAACK,IAAD,CAAU,CACdX,iBAAiB,CAACW,IAAD,CAAjB,CACAT,aAAa,CAACS,IAAI,CAACG,MAAN,CAAb,CACD,CAhBH,EAiBGC,KAjBH,CAiBS,SAACX,CAAD,CAAO,CACZY,OAAO,CAACC,GAAR,CAAYb,CAAZ,EACD,CAnBH,EAoBD,CAvBD,CAyBA,mBACE,aAAK,SAAS,CAAEZ,OAAO,CAAC0B,SAAxB,wBACE,KAAC,MAAD,EAAQ,aAAa,CAAEf,YAAvB,CAAqC,SAAS,CAAEN,SAAhD,CAA2D,UAAU,CAAEI,UAAvE,EADF,cAEE,KAAC,WAAD,EAAa,cAAc,CAAEF,cAA7B,EAFF,GADF,CAMD,CApCD,CAsCA,cAAeH,CAAAA,MAAf","sourcesContent":["import classes from \"./Update.module.css\";\nimport Status from \"./Status\";\nimport ProductList from \"./ProductList\";\nimport { useState } from \"react\";\n\nconst Update = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [loadedProducts, setLoadedProducts] = useState([]);\n  const [loadedNumb, setLoadedNumb] = useState(0);\n\n  const clickHandler = (e) => {\n    setIsLoading(true);\n    //sending a get request to localhost:5000\n    fetch(\"http://localhost:5000/update\")\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok) {\n          return res.json();\n        } else {\n          setIsLoading(true);\n          alert(\"sth went wrong\");\n          return res.json().then((data) => {\n            throw new Error(data ? data.description : \"fuck, it's an error\");\n          });\n        }\n      })\n      .then((data) => {\n        setLoadedProducts(data);\n        setLoadedNumb(data.length);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <div className={classes.container}>\n      <Status onClickUpdate={clickHandler} isLoading={isLoading} loadedNumb={loadedNumb}/>\n      <ProductList loadedProducts={loadedProducts}/>\n    </div>\n  );\n};\n\nexport default Update;\n"]},"metadata":{},"sourceType":"module"}