{"code":"(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{23:function(e,t,n){},30:function(e,t,n){\"use strict\";n.r(t);var c=n(16),o=n.n(c),r=n(9),s=(n(23),n(0)),i=n.n(s),a=n(2),j=n(18),l=n(1),u=i.a.createContext({token:\"\",isLoggedIn:!1,login:function(e){},logout:function(){}}),d=function(e){var t=Object(s.useState)(null),n=Object(j.a)(t,2),c=n[0],o=n[1],r={token:c,isLoggedIn:!!c,login:function(e){o(e),localStorage.setItem(\"token\",e)},logout:function(){o(null),localStorage.removeItem(\"token\")}};return Object(l.jsx)(u.Provider,{value:r,children:e.children})},b=u,h=n(8),O=n.n(h),g=function(){var e=Object(a.g)(),t=Object(s.useRef)(),n=Object(s.useRef)(),c=Object(s.useContext)(b);return Object(l.jsxs)(\"div\",{className:O.a.container,children:[Object(l.jsx)(\"div\",{children:Object(l.jsx)(\"img\",{className:O.a.image,alt:\"\"})}),Object(l.jsx)(\"h2\",{children:\"\\uc6d0\\ub8f8\\ub9ccLab \\uc0c1\\ud488\\uad00\\ub9ac\"}),Object(l.jsx)(\"br\",{}),Object(l.jsxs)(\"form\",{onSubmit:function(o){o.preventDefault();var r=t.current.value,s=n.current.value;fetch(\"http://localhost:5000/auth\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:r,password:s})}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw new Error(e?e.description:\"fuck, it's an error\")}))})).then((function(t){c.login(t.access_token),e.replace(\"/dashboard\")})).catch((function(e){console.log(e)}))},children:[Object(l.jsxs)(\"div\",{className:O.a.control,children:[Object(l.jsx)(\"label\",{children:\"ID\"}),Object(l.jsx)(\"input\",{type:\"username\",id:\"username\",required:!0,ref:t})]}),Object(l.jsxs)(\"div\",{className:O.a.control,children:[Object(l.jsx)(\"label\",{children:\"PASSWORD\"}),Object(l.jsx)(\"input\",{type:\"password\",id:\"password\",required:!0,ref:n})]}),Object(l.jsx)(\"div\",{className:O.a.actions,children:Object(l.jsx)(\"button\",{children:\"LOGIN\"})})]})]})},x=function(){return Object(l.jsx)(g,{})},f=function(){var e=Object(a.g)(),t=Object(s.useContext)(b);return Object(l.jsxs)(\"div\",{children:[Object(l.jsx)(\"h1\",{children:\"Dashboard Page\"}),Object(l.jsx)(\"button\",{onClick:function(n){n.preventDefault(),console.log(t.isLoggedIn),t.logout(),console.log(t.isLoggedIn),e.replace(\"/\")},children:\"Log out\"})]})};var m=function(){var e=Object(s.useContext)(b);return Object(l.jsxs)(a.d,{children:[Object(l.jsxs)(a.b,{path:\"/\",children:[!e.isLoggedIn&&Object(l.jsx)(x,{}),e.isLoggedIn&&Object(l.jsx)(a.a,{to:\"/dashboard\"})]}),Object(l.jsxs)(a.b,{path:\"/dashboard\",children:[e.isLoggedIn&&Object(l.jsx)(f,{}),!e.isLoggedIn&&Object(l.jsx)(a.a,{to:\"/\"})]})]})};o.a.render(Object(l.jsx)(d,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(m,{})})}),document.getElementById(\"root\"))},8:function(e,t,n){e.exports={actions:\"AuthForm_actions__1VNhY\",container:\"AuthForm_container__c83gh\",control:\"AuthForm_control__2fVSU\",image:\"AuthForm_image__3dmI2\"}}},[[30,1,2]]]);","name":"static/js/main.4ec45fc0.chunk.js","map":{"version":3,"sources":["static/js/main.4ec45fc0.chunk.js"],"names":["this","push","23","module","exports","__webpack_require__","30","__webpack_exports__","r","react_dom","react_dom_default","n","react_router_dom","react","react_default","react_router","slicedToArray","jsx_runtime","AuthContext","a","createContext","token","isLoggedIn","login","logout","auth_context_AuthContextProvider","props","_useState","Object","_useState2","setToken","contextValue","localStorage","setItem","removeItem","Provider","value","children","auth_context","AuthForm_module","AuthForm_module_default","Auth_AuthForm","history","usernameInputRef","passwordInputRef","authCtx","className","container","image","alt","onSubmit","e","preventDefault","enteredUsername","current","enteredPassword","fetch","method","headers","Content-Type","body","JSON","stringify","username","password","then","res","ok","json","data","Error","description","access_token","replace","catch","console","log","control","type","id","required","ref","actions","pages_AuthPage","pages_DashboardPage","onClick","src_App","path","to","render","document","getElementById","8"],"mappings":"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"},"input":"(this[\"webpackJsonpfront\"] = this[\"webpackJsonpfront\"] || []).push([[0],{\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/store/auth-context.js\nvar AuthContext=/*#__PURE__*/react_default.a.createContext({token:\"\",isLoggedIn:false,login:function login(token){},logout:function logout(){}});var auth_context_AuthContextProvider=function AuthContextProvider(props){// const initialToken = localStorage.getItem(\"token\");\nvar _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var userIsLoggedIn=!!token;var loginHandler=function loginHandler(token){setToken(token);localStorage.setItem(\"token\",token);};var logoutHandler=function logoutHandler(){setToken(null);localStorage.removeItem(\"token\");};var contextValue={token:token,isLoggedIn:userIsLoggedIn,login:loginHandler,logout:logoutHandler};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:contextValue,children:props.children});};/* harmony default export */ var auth_context = (AuthContext);\n// EXTERNAL MODULE: ./src/components/Auth/AuthForm.module.css\nvar AuthForm_module = __webpack_require__(8);\nvar AuthForm_module_default = /*#__PURE__*/__webpack_require__.n(AuthForm_module);\n\n// CONCATENATED MODULE: ./src/components/Auth/AuthForm.js\nvar AuthForm_AuthForm=function AuthForm(){var history=Object(react_router[\"g\" /* useHistory */])();var usernameInputRef=Object(react[\"useRef\"])();var passwordInputRef=Object(react[\"useRef\"])();var authCtx=Object(react[\"useContext\"])(auth_context);var submitHandler=function submitHandler(e){e.preventDefault();var enteredUsername=usernameInputRef.current.value;var enteredPassword=passwordInputRef.current.value;fetch(\"http://localhost:5000/auth\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:enteredUsername,password:enteredPassword})}).then(function(res){if(res.ok){return res.json();}else{return res.json().then(function(data){throw new Error(data?data.description:\"fuck, it's an error\");});}}).then(function(data){authCtx.login(data.access_token);history.replace(\"/dashboard\");}).catch(function(e){console.log(e);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.container,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:AuthForm_module_default.a.image,alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"\\uC6D0\\uB8F8\\uB9CCLab \\uC0C1\\uD488\\uAD00\\uB9AC\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"ID\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"username\",id:\"username\",required:true,ref:usernameInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"PASSWORD\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"password\",required:true,ref:passwordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:AuthForm_module_default.a.actions,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"LOGIN\"})})]})]});};/* harmony default export */ var Auth_AuthForm = (AuthForm_AuthForm);\n// CONCATENATED MODULE: ./src/pages/AuthPage.js\nvar AuthPage_AuthPage=function AuthPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_AuthForm,{});};/* harmony default export */ var pages_AuthPage = (AuthPage_AuthPage);\n// CONCATENATED MODULE: ./src/pages/DashboardPage.js\nvar DashboardPage_DashboardPage=function DashboardPage(){var history=Object(react_router[\"g\" /* useHistory */])();var authCtx=Object(react[\"useContext\"])(auth_context);var logoutHandler=function logoutHandler(e){e.preventDefault();console.log(authCtx.isLoggedIn);authCtx.logout();console.log(authCtx.isLoggedIn);history.replace(\"/\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Dashboard Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:logoutHandler,children:\"Log out\"})]});};/* harmony default export */ var pages_DashboardPage = (DashboardPage_DashboardPage);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){var authCtx=Object(react[\"useContext\"])(auth_context);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/\",children:[!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AuthPage,{}),authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/dashboard\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/dashboard\",children:[authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_DashboardPage,{}),!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})]});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_context_AuthContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById(\"root\"));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n/***/ }),\n\n/***/ 8:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"AuthForm_actions__1VNhY\",\"container\":\"AuthForm_container__c83gh\",\"control\":\"AuthForm_control__2fVSU\",\"image\":\"AuthForm_image__3dmI2\"};\n\n/***/ })\n\n},[[30,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/postcss-loader/src/index.js??postcss!/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/index.css","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/store/auth-context.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/components/Auth/AuthForm.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/pages/AuthPage.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/pages/DashboardPage.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/App.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/index.js","/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-5-0!/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-5-1!/Users/chansollim/Desktop/dev/soldOut/main/front/react/node_modules/postcss-loader/src/index.js??postcss!/Users/chansollim/Desktop/dev/soldOut/main/front/react/src/components/Auth/AuthForm.module.css"],"names":["AuthContext","React","createContext","token","isLoggedIn","login","logout","AuthContextProvider","props","useState","setToken","userIsLoggedIn","loginHandler","localStorage","setItem","logoutHandler","removeItem","contextValue","children","AuthForm","history","useHistory","usernameInputRef","useRef","passwordInputRef","authCtx","useContext","submitHandler","e","preventDefault","enteredUsername","current","value","enteredPassword","fetch","method","headers","body","JSON","stringify","username","password","then","res","ok","json","data","Error","description","access_token","replace","catch","console","log","classes","container","image","control","actions","AuthPage","DashboardPage","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useState } from \"react\";\n\nconst AuthContext = React.createContext({\n  token: \"\",\n  isLoggedIn: false,\n  login: (token) => {},\n  logout: () => {},\n});\n\nexport const AuthContextProvider = (props) => {\n  // const initialToken = localStorage.getItem(\"token\");\n  const [token, setToken] = useState(null);\n\n  const userIsLoggedIn = !!token;\n\n  const loginHandler = (token) => {\n    setToken(token);\n    localStorage.setItem(\"token\", token);\n  };\n\n  const logoutHandler = () => {\n    setToken(null);\n    localStorage.removeItem(\"token\");\n  };\n\n  const contextValue = {\n    token: token,\n    isLoggedIn: userIsLoggedIn,\n    login: loginHandler,\n    logout: logoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;\n","import { useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthContext from \"../../store/auth-context\";\n\nimport classes from \"./AuthForm.module.css\";\n\nconst AuthForm = () => {\n  const history = useHistory();\n  const usernameInputRef = useRef();\n  const passwordInputRef = useRef();\n\n  const authCtx = useContext(AuthContext);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n\n    const enteredUsername = usernameInputRef.current.value;\n    const enteredPassword = passwordInputRef.current.value;\n\n    fetch(\"http://localhost:5000/auth\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        username: enteredUsername,\n        password: enteredPassword,\n      }),\n    })\n      .then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.json().then((data) => {\n            throw new Error(data ? data.description : \"fuck, it's an error\");\n          });\n        }\n      })\n      .then((data) => {\n        authCtx.login(data.access_token);\n        history.replace(\"/dashboard\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  };\n\n  return (\n    <div className={classes.container}>\n      <div>\n        <img className={classes.image} alt=\"\" />\n      </div>\n      <h2>원룸만Lab 상품관리</h2>\n      <br />\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label>ID</label>\n          <input\n            type=\"username\"\n            id=\"username\"\n            required\n            ref={usernameInputRef}\n          />\n        </div>\n        <div className={classes.control}>\n          <label>PASSWORD</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            required\n            ref={passwordInputRef}\n          />\n        </div>\n        <div className={classes.actions}>\n          <button>LOGIN</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AuthForm;\n","import AuthForm from \"../components/Auth/AuthForm\";\n\nconst AuthPage = () => {\n  return <AuthForm />;\n};\n\nexport default AuthPage;\n","import { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthContext from \"../store/auth-context\";\n\nconst DashboardPage = () => {\n  const history = useHistory();\n  const authCtx = useContext(AuthContext);\n  const logoutHandler = (e) => {\n    e.preventDefault();\n    console.log(authCtx.isLoggedIn);\n    authCtx.logout();\n    console.log(authCtx.isLoggedIn);\n\n    history.replace(\"/\");\n  };\n\n  return (\n    <div>\n      <h1>Dashboard Page</h1>\n      <button onClick={logoutHandler}>Log out</button>\n    </div>\n  );\n};\n\nexport default DashboardPage;\n","import { useContext } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport AuthPage from \"./pages/AuthPage\";\nimport DashboardPage from \"./pages/DashboardPage\";\nimport AuthContext from \"./store/auth-context\";\n\nfunction App() {\n  const authCtx = useContext(AuthContext);\n  return (\n    <Switch>\n      <Route path=\"/\">\n        {!authCtx.isLoggedIn && <AuthPage />}\n        {authCtx.isLoggedIn && <Redirect to=\"/dashboard\" />}\n      </Route>\n      <Route path=\"/dashboard\">\n        {authCtx.isLoggedIn && <DashboardPage />}\n        {!authCtx.isLoggedIn && <Redirect to=\"/\" />}\n      </Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"actions\":\"AuthForm_actions__1VNhY\",\"container\":\"AuthForm_container__c83gh\",\"control\":\"AuthForm_control__2fVSU\",\"image\":\"AuthForm_image__3dmI2\"};"]}}